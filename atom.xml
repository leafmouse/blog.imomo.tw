<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Jim's Blog]]></title>
  <link href="http://leafmouse.github.io/blog/atom.xml" rel="self"/>
  <link href="http://leafmouse.github.io/blog/"/>
  <updated>2013-05-19T17:53:05+08:00</updated>
  <id>http://leafmouse.github.io/blog/</id>
  <author>
    <name><![CDATA[Jim Chen]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Apache Anti DDOS 實作筆記]]></title>
    <link href="http://leafmouse.github.io/blog/blog/2013/05/19/apache-anti-ddos/"/>
    <updated>2013-05-19T17:13:00+08:00</updated>
    <id>http://leafmouse.github.io/blog/blog/2013/05/19/apache-anti-ddos</id>
    <content type="html"><![CDATA[<p>以前管理的網頁伺服器，偶爾會遇到同事打來反應會連不上或很慢<br/>
有時候甚至自已也無法使用SSH連入，連入後可以看到一大堆連線<br/>
像是遭遇到SYN攻擊，所以便去尋找防制的做法，找到了以下的套件。</p>

<p>mod_evasive 是 apache 的 3rd party 模組，利用限定來源的<br/>
HTTP 存取方式來避免遭受到拒絕服務攻擊</p>

<p>必要安裝套件</p>

<pre><code>yum install libxml2 libxml2-devel httpd-devel pcre-devel curl-devel 
</code></pre>

<h3>1. 下載套件</h3>

<pre><code>wget http://www.zdziarski.com/blog/wp-content/uploads/2010/02/mod_evasive_1.10.1.tar.gz 
</code></pre>

<h3>2. 安裝套件</h3>

<pre><code>tar -zxvf mod_evasive_1.10.1.tar.gz 
cd mod_evasive 
apxs -i -a -c mod_evasive20.c 
</code></pre>

<h3>3. Apache設定檔新增相關設定</h3>

<pre><code>vi /etc/httpd/conf/httpd.conf 
</code></pre>

<h3>DDOS Moudle</h3>

<pre><code>LoadModule evasive20_module modules/mod_evasive20.so 
LoadModule evasive20_module /usr/lib/httpd/modules/mod_evasive20.so 
</code></pre>

<h3>Anti D.o.S</h3>

<pre><code>&lt;IfModule mod_evasive20.c&gt;
DOSHashTableSize 3097
DOSPageCount 2
DOSSiteCount 50
DOSPageInterval 1
DOSSiteInterval 1
DOSBlockingPeriod 1800
DOSEmailNotify admin@domain.com
DOSLogdir /var/log/httpd_DoS
DOSWhitelist 127.0.0.1
DOSWhitelist 1.1.1.1 
DOSWhitelist 1.2.3.4 
&lt;/IfModule&gt;
</code></pre>

<h4>參數說明</h4>

<p><strong>DOSmailNotify</strong>   發現疑似攻擊時，要寄發通知的信箱<br/>
<strong>DOSLogdir</strong>       設定LOG存放路徑<br/>
<strong>DOSWhitelist</strong>    設定進行不阻擋的白名單IP</p>

<h3>4. 重啟Apache服務</h3>

<pre><code>/etc/init.d/httpd restart 
</code></pre>

<h3>5. 測試 mod_evasive 是否正常運作</h3>

<p>mod_evasive 提供了測試程式 test.pl，可執行下列指令<br/>
用以測試該模組是否有正常運作</p>

<pre><code>perl test.pl
</code></pre>

<p>如果設定正常 perl.pl 會回傳 403 forbiden 等相關的訊息</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Samba4 alpha13 實作筆記]]></title>
    <link href="http://leafmouse.github.io/blog/blog/2013/05/04/samba4alpha13/"/>
    <updated>2013-05-04T07:28:00+08:00</updated>
    <id>http://leafmouse.github.io/blog/blog/2013/05/04/samba4alpha13</id>
    <content type="html"><![CDATA[<br>


<p><strong>系統環境:</strong><br/>
CentOS 5.5</p>

<p><strong>所需套件:</strong><br/>
Samba： 4 alpha13</p>

<p><strong>Lab網域名稱:</strong><br/>
igs.local</p>

<h3>一、 Download Samba 4</h3>

<p>以下二種做法請擇一使用</p>

<pre><code>rsync -avz samba.org::ftp/unpacked/samba_4_0_test/ samba4
git clone git://git.samba.org/samba.git samba4; cd samba4 &amp;&amp; git checkout -b v4-0-test origin/v4-0-test; cd ..
</code></pre>

<h3>二、 安裝相關套件</h3>

<pre><code>yum install libacl-devel libblkid-devel gnutls-devel readline-devel python-devel bind autoconf gdb rsyslog-gssapi cyrus-sasl-gssapi
</code></pre>

<h3>三、 Compile Samba4</h3>

<pre><code>cd samba4/source4
./autogen-waf.sh
./configure.developer
make
</code></pre>

<h3>四、 Install Samba4</h3>

<pre><code>make install
</code></pre>

<h3>五、 Provision Samba4</h3>

<p>執行 Provision</p>

<pre><code>./setup/provision --realm=igs.local --domain=igs --adminpass=yourPassword --server-role='domain controller'
</code></pre>

<p>會出現以下訊息</p>

<pre><code>Setting up secrets.ldb
Setting up the registry
Setting up the privileges database
Setting up idmap db
Setting up SAM db
Setting up sam.ldb partitions and settings
Setting up sam.ldb rootDSE
Pre-loading the Samba 4 and AD schema
Adding DomainDN: DC=igs,DC=local
Adding configuration container
Setting up sam.ldb schema
Reopening sam.ldb with new schema
Setting up sam.ldb configuration data
Setting up display specifiers
Adding users container
Modifying users container
Adding computers container
Modifying computers container
Setting up sam.ldb data
Setting up sam.ldb users and groups
Setting up self join
Setting up sam.ldb rootDSE marking as synchronized
rndc: connect failed: 127.0.0.1#953: connection refused
rndc: connect failed: 127.0.0.1#953: connection refused
See /usr/local/samba/private/named.conf for an example  configuration include file for BIND
and /usr/local/samba/private/named.txt for further documentation    required for secure DNS updates
A Kerberos configuration suitable for Samba 4 has been generated    at /usr/local/samba/private/krb5.conf
Please install the phpLDAPadmin configuration located at /usr/  local/samba/private/phpldapadmin-config.php into /etc/phpldapadmin/ config.php
Once the above files are installed, your Samba4 server will be  ready to use
Server Role:        domain controller
Hostname:           dc
NetBIOS Domain:     igs
DNS Domain:         igs.local
DOMAIN SID:         S-1-5-21-2696521599-3429856061-2704879584
Admin password:     yourPassword
</code></pre>

<h3>六、 Create a share in smb.conf</h3>

<p>編輯設定檔</p>

<pre><code>vi /usr/local/samba/etc/smb.conf
</code></pre>

<p>檔案內容</p>

<pre><code>[share] path = /data/share
read only = no
</code></pre>

<p>建立分享目錄</p>

<pre><code>mkdir -p /data/share
</code></pre>

<h3>七、 starting samba4</h3>

<pre><code>/usr/local/samba/sbin/samba -i -M single
</code></pre>

<h3>八、 Testing Samba4</h3>

<h5>確認samba client版本</h5>

<pre><code>/usr/local/samba/bin/smbclient --version
</code></pre>

<p>版本如下</p>

<pre><code>Version 4.0.0alpha13
</code></pre>

<h5>列出伺服器可用的分享清單</h5>

<p>指令</p>

<pre><code>/usr/local/samba/bin/smbclient -L localhost -U%
</code></pre>

<p>分享清單</p>

<pre><code>Sharename       Type       Comment
---------       ----       -------
netlogon        Disk
sysvol          Disk
IPC$            IPC        IPC Service (Samba 4.0.0alpha13)
ADMIN$          Disk       DISK Service (Samba 4.0.0alpha13)
</code></pre>

<p>測試netlogon</p>

<pre><code>/usr/local/samba/bin/smbclient //localhost/netlogon -Uadministrator%yourPassword
</code></pre>

<p>您應該會得到 &#8220;smb>&#8221; 提示字元, 可存取 netlogon 目錄</p>

<pre><code>smb: \&gt;
</code></pre>

<h5>確認DNS解析否正常</h5>

<p>指令</p>

<pre><code>host -t SRV _ldap._tcp.igs.local.
</code></pre>

<p>結果</p>

<pre><code>_ldap._tcp.igs.local has SRV record 0 100 389 dc.igs.local.
</code></pre>

<p>指令</p>

<pre><code>host -t SRV _kerberos._udp.igs.local.
</code></pre>

<p>結果</p>

<pre><code>_kerberos._udp.igs.local has SRV record 0 100 88 dc.igs.local.
</code></pre>

<p>指令</p>

<pre><code>host -t A dc.igs.local.
</code></pre>

<p>結果</p>

<pre><code>dc.igs.local has address 192.168.0.5
</code></pre>

<h3>九、 Testing kerberos</h3>

<p>若 DNS 解析否正常,您可以測試 kerberos伺服器</p>

<pre><code>kinit administrator@IGS.LOCAL
</code></pre>

<p>Warning: Your password will expire in 41 days on Tue Jan 4 03:21:58 2011</p>

<p>可列出快取中的 Kerberos tickets</p>

<pre><code>klist -e
</code></pre>

<p>結果</p>

<pre><code>Ticket cache: FILE:/tmp/krb5cc_0  
Default principal: administrator@IGS.LOCAL

Valid starting     Expires            Service principal  
11/23/10 04:18:19  11/24/10 04:18:17  krbtgt/IGS.LOCAL@IGS.LOCAL  
Etype (skey, tkt): ArcFour with HMAC/md5, ArcFour with HMAC/md5

Kerberos 4 ticket cache: /tmp/tkt0  
klist: You have no tickets cached
</code></pre>

<h3>十、 Configure kerberos DNS dynamic updates</h3>

<p>另外，你需要為 bind9 設置二個環境變數 (可加在 /etc/rc.d/rc.local)</p>

<pre><code>KEYTAB_FILE="/usr/local/samba/private/dns.keytab"
KRB5_KTNAME="/usr/local/samba/private/dns.keytab"
export KEYTAB_FILE
export KRB5_KTNAM
</code></pre>

<p>這些應該放在你的bind9設定檔。在RedHat平台在 /etc/sysconfig/named。<br/>
嚴格來說，你僅需KEYTAB_FILE或KRB5_KTNAME，但視你的Linux套件而定。</p>

<p>編輯 named</p>

<pre><code>vi /etc/sysconfig/named
</code></pre>

<p>內容</p>

<pre><code>KEYTAB_FILE="/usr/local/samba/private/dns.keytab"
</code></pre>

<p>編輯 named.conf 設定檔</p>

<pre><code>vi /usr/local/bind/etc/named.conf
</code></pre>

<p>option 區段加入以下二行</p>

<pre><code>tkey-gssapi-credential "DNS/igs.local";
tkey-domain "IGS.LOCAL";
</code></pre>

<h3>十一、 Windows XP使用UNC路徑連入</h3>

<p><img src="http://blog.imomo.tw/images/samba4/samba4-unc.jpg" alt="UNC路徑" /></p>

<h3>十二、 用LDAP Admin連入</h3>

<p><img src="http://blog.imomo.tw/images/samba4/ldapadmin.jpg" alt="LDAP Admin" /></p>

<h3>十三、 確認DNS查詢是否正常</h3>

<p><img src="http://blog.imomo.tw/images/samba4/nslookup.jpg" alt="nslookup" /></p>

<h3>十四、 加入網域</h3>

<p><img src="http://blog.imomo.tw/images/samba4/join.jpg" alt="Join domain" /></p>

<h3>十五、 確認加入網域後重新開機</h3>

<p><img src="http://blog.imomo.tw/images/samba4/welcome_join.jpg" alt="Welcome Join domain" /></p>

<h3>十六、 登入網域</h3>

<p><img src="http://blog.imomo.tw/images/samba4/login.jpg" alt="Login domain" /></p>

<h3>十七、 檢查系統內容確認已加入網域</h3>

<p><img src="http://blog.imomo.tw/images/samba4/system.jpg" alt="System" /></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Tesseract-OCR 安裝筆記]]></title>
    <link href="http://leafmouse.github.io/blog/blog/2013/05/04/tesseract-ocr/"/>
    <updated>2013-05-04T05:28:00+08:00</updated>
    <id>http://leafmouse.github.io/blog/blog/2013/05/04/tesseract-ocr</id>
    <content type="html"><![CDATA[<p>今天有朋友問我一個問題，圖形驗證碼是否有可能自動辨識<br/>
雖然沒做過這類的研究，但似乎也是挺有趣的議題，於是就<br/>
找資料玩看看，找到了下面的套件</p>

<p>Tesseract是Open Source的OCR辨識引擎，早期由HP實驗室研發<br/>
後來貢獻給Open Source，再經由Google消除bug、優化後重新發佈</p>

<p><strong>系統環境:</strong><br>
CentOS 6.4</p>

<p><strong>安裝套件:</strong><br>
Tesseract-OCR 3.0.2 (OCR Engine)</p>

<h3>1. 安裝編譯環境所需的套件</h3>

<pre><code>yum install gcc gcc-c++ make
</code></pre>

<h3>2. 安裝其他必要套件</h3>

<pre><code>yum install autoconf automake libtool libjpeg-devel libpng-devel libtiff-devel zlib-devel
</code></pre>

<h3>3. 安裝 leptonica library</h3>

<p>下載 leptonica</p>

<pre><code>wget http://www.leptonica.org/source/leptonica-1.69.tar.gz
</code></pre>

<p>解開並進行安裝</p>

<pre><code>./configure
make
make install
</code></pre>

<h3>4. 安裝 tesseract</h3>

<p>下載 tesseract</p>

<pre><code>wget https://tesseract-ocr.googlecode.com/files/tesseract-ocr-3.02.02.tar.gz
</code></pre>

<p>解開並進行安裝</p>

<pre><code>./autogen.sh
./configure
make
make install
ldconfig
</code></pre>

<h3>5. 安裝 tesseract 語言包</h3>

<p>下載語言包</p>

<pre><code>wget https://tesseract-ocr.googlecode.com/files/tesseract-ocr-3.02.eng.tar.gz
</code></pre>

<p>解開後將 tesseract-ocr/tessdata 目錄下所有檔案複製到 /usr/local/share/tessdata</p>

<h3>6. 測試圖檔辨識功能</h3>

<p>安裝目錄下有 phototest.tif 可做測試</p>

<pre><code>tesseract phototest.tif phototest -l eng
</code></pre>

<p>stdout message</p>

<pre><code>Tesseract Open Source OCR Engine v3.02.02 with Leptonica
</code></pre>

<p>檢視輸出檔案 phototest.txt</p>

<pre><code>This is a lot of 12 point text to test the
ocr code and see if it works on all types
of file format.

The quick brown dog jumped over the
lazy fox. The quick brown dog jumped
over the lazy fox. The quick brown dog
jumped over the lazy fox. The quick
brown dog jumped over the lazy fox.
</code></pre>

<p>Reference: <a href="http://my.oschina.net/iceman/blog/40771">http://my.oschina.net/iceman/blog/40771</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[vsftpd virtual user 實作筆記]]></title>
    <link href="http://leafmouse.github.io/blog/blog/2013/04/19/vsftpd-virtual-user-shi-zuo-bi-ji/"/>
    <updated>2013-04-19T00:00:00+08:00</updated>
    <id>http://leafmouse.github.io/blog/blog/2013/04/19/vsftpd-virtual-user-shi-zuo-bi-ji</id>
    <content type="html"><![CDATA[<p>工作上為了避免網頁維護人員有意或無意的更動到系統的檔案<br/>
於是研究一下使用Virtual User而不實際使用系統帳號來登入<br/>
Web Server</p>

<p>系統套件:<br/>
CentOS release 6.4</p>

<p>必要套件:<br/>
Berkeley DB (version 4) databases<br/>
pam_userdb.so</p>

<p><strong>1. 安裝必要套件</strong></p>

<pre><code>yum install db4-utils db4 vsftpd 
</code></pre>

<p><strong>2. 建立虛擬帳號</strong></p>

<p>編輯虛擬帳號檔</p>

<pre><code>vi /etc/vsftpd/logins.txt 
</code></pre>

<p>檔案內容如下:</p>

<p>格式一</p>

<pre><code>user1 userpass1 user2 userpass2 user3 userpass3 
</code></pre>

<p>格式二 (文件格式: 單數行=帳號名稱,偶數行=密碼)</p>

<pre><code>virtualuser1  
userpass1  
virtualuser2  
userpass2  
</code></pre>

<p><strong>3. 將logins.txt 轉換成資料庫格式的檔案</strong></p>

<pre><code>db_load -T -t hash -f /etc/vsftpd/logins.txt /etc/vsftpd/vsftpd_login.db 
chmod 600 vsftpd_login.db 
rm logins.txt 
</code></pre>

<p><strong>4. 編輯 vsftpd 設定檔</strong></p>

<pre><code>編輯設定檔
vi /etc/vsftpd/vsftpd.conf 

新增內容如下:

    pam_service_name=vsftpd.virtual 
    anonymous_enable=NO 
    anon_upload_enable=NO 
    guest_enable=YES 
    guest_username=ftpuser 
    virtual_use_local_privs=YES 

以下參數待確認

    chown_uploads=YES 
    username to own the file and folders uploaded 
    chown_username=ftpuser 
    xferlog_std_format=NO 
    listen=YES 
</code></pre>

<p><strong>5. 建立 PAM file 以使用我們新建立的資料庫</strong></p>

<pre><code>    vi /etc/pam.d/vsftpd.virtual 
</code></pre>

<p>新增內容如下:</p>

<pre><code>#%PAM-1.0 
auth required pam_userdb.so db=/etc/vsftpd/vsftpd_login 
account required pam_userdb.so db=/etc/vsftpd/vsftpd_login 
session required pam_loginuid.so 
</code></pre>

<p><strong>6. 為使 virtual user 擁有自己的家目錄</strong></p>

<p>6-1. 編輯 vsftpd 設定檔</p>

<pre><code>vi /etc/vsftpd/vsftpd.conf 
</code></pre>

<p>新增內容如下:</p>

<pre><code>user_config_dir=/etc/vsftpd/vsftpd_user_conf
</code></pre>

<p>6-2. 建立 vsftpd_user_conf 目錄</p>

<pre><code>mkdir /etc/vsftpd/vsftpd_user_conf 
</code></pre>

<p>6-3. 建立每個 virtual user 個別設定檔</p>

<pre><code>vi /etc/vsftpd/vsftpd_user_conf/virtualuser1 
</code></pre>

<p>新增內容如下:</p>

<pre><code>write_enable=YES 
anon_world_readable_only=NO 
anon_upload_enable=YES anon_mkdir_write_enable=YES
anon_other_write_enable=YES 

local_root=/home/ftpuser/virtualuser1 
</code></pre>

<p><strong>7. 建立 ftpuser 帳號</strong></p>

<pre><code>useradd ftpuser -d /home/ftpuser -s /bin/false 
chown ftpuser:ftpuser /home/ftpuser 
</code></pre>

<p><strong>8. Create the location of the files. Set up the location of the files / dirs for the virtual users.</strong></p>

<pre><code>mkdir -p /home/ftpuser/{virtualuser1,virtualuser2} 
chown -R ftpuser:ftpuser /home/ftpuser 
</code></pre>

<p><strong>9. 重新啟動 vsftpd</strong></p>

<pre><code>/etc/init.d/vsftpd restart 
</code></pre>

<p><strong>10. 將 vsftpd 設為系統開機後自動執行</strong></p>

<pre><code>chkconfig vsftpd on 
</code></pre>

<p><strong>11. 防火牆開放 ftp port</strong></p>

<pre><code>vi /etc/sysconfig/iptables 
</code></pre>

<p>新增內容如下:</p>

<pre><code>-A INPUT -p tcp -m state --state NEW -m tcp --dport 21 -j ACCEPT
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Apache Reverse Proxy 實作筆記]]></title>
    <link href="http://leafmouse.github.io/blog/blog/2013/04/18/hello-world/"/>
    <updated>2013-04-18T07:03:00+08:00</updated>
    <id>http://leafmouse.github.io/blog/blog/2013/04/18/hello-world</id>
    <content type="html"><![CDATA[<p><strong>1. 編輯Apache設定檔</strong></p>

<pre><code>vi /etc/httpd/conf/httpd.conf
</code></pre>

<p><strong>2. 檢查Apache是否安裝mod_proxy模組</strong></p>

<p>搜尋設定檔中是否有下列二行設定</p>

<pre><code>LoadModule proxy_module modules/mod_proxy.so
LoadModule proxy_http_module modules/mod_proxy_http.so
</code></pre>

<p><strong>3. 拿掉開啟proxy功能</strong></p>

<pre><code>ProxyRequests Off 

&lt;Proxy *&gt; 
Order deny,allow 
Deny from all 
Allow from all 
&lt;/Proxy&gt; 
</code></pre>

<p><strong>4. ProxyPassReverse設定</strong></p>

<pre><code>ProxyVia On 
ProxyPass /redir http://another_ip_address/redir 
ProxyPassReverse /redir http://another_ip_address/redir
</code></pre>

<p>Reference: <a href="http://www.wretch.cc/blog/siaocheng/2878629">http://www.wretch.cc/blog/siaocheng/2878629</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[發表Octopress文章的流程]]></title>
    <link href="http://leafmouse.github.io/blog/blog/2013/04/17/fa-biao-octopresswen-zhang-de-liu-cheng/"/>
    <updated>2013-04-17T00:00:00+08:00</updated>
    <id>http://leafmouse.github.io/blog/blog/2013/04/17/fa-biao-octopresswen-zhang-de-liu-cheng</id>
    <content type="html"><![CDATA[<p><strong>1. 執行下列指令建立新的文章</strong></p>

<pre><code>rake new_post["新文章標題"]
</code></pre>

<p><strong>2. 使用 Sublime Text 2 或其他編輯軟體編輯文章</strong></p>

<p><strong>3. 執行下列指令以利於本機中先預覽</strong> http://localhost:4000</p>

<pre><code>rake preview
</code></pre>

<p><strong>4. 編譯文章</strong></p>

<pre><code>rake generate
</code></pre>

<p><strong>5. 將文章上傳到 github.com</strong></p>

<pre><code>rake deploy
</code></pre>

<p><strong>6. 同時用git add, git commit,
   和git push origin site 提交site分支的更改</strong></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Apache Anti DDOS 實作筆記]]></title>
    <link href="http://leafmouse.github.io/blog/blog/2013/03/14/apache-anti-ddos-shi-zuo-bi-ji/"/>
    <updated>2013-03-14T11:10:00+08:00</updated>
    <id>http://leafmouse.github.io/blog/blog/2013/03/14/apache-anti-ddos-shi-zuo-bi-ji</id>
    <content type="html"><![CDATA[<p>mod_evasive是apache的3rd party模組<br>
利用限定來源的 HTTP 存取方式來避免遭受到<br>
拒絕服務攻擊</p>

<p><strong>安裝 mod_evasive流程</strong></p>

<p>先安裝必要套件</p>

<pre><code>yum install libxml2 libxml2-devel httpd-devel pcre-devel curl-devel
</code></pre>

<h3>1. 下載</h3>

<pre><code>wget http://www.zdziarski.com/blog/wp-content/uploads/2010/02/mod_evasive_1.10.1.tar.gz 
</code></pre>

<h3>2. 安裝</h3>

<pre><code>tar -zxvf mod_evasive_1.10.1.tar.gz 
cd mod_evasive 
apxs -i -a -c mod_evasive20.c 
</code></pre>

<h3>3. 編輯Apache設定檔,新增相關設定</h3>

<pre><code>vi /etc/httpd/conf/httpd.conf 
</code></pre>

<p><strong>DDOS Moudle</strong></p>

<pre><code>LoadModule evasive20_module modules/mod_evasive20.so
LoadModule evasive20_module /usr/lib/httpd/modules/mod_evasive20.so
</code></pre>

<p><strong>Anti D.o.S</strong></p>

<pre><code>&lt;IfModule mod_evasive20.c&gt;
DOSHashTableSize 3097
DOSPageCount 2
DOSSiteCount 50
DOSPageInterval 1
DOSSiteInterval 1
DOSBlockingPeriod 1800
DOSEmailNotify admin@domain.com
DOSLogdir /var/log/httpd_DoS
DOSWhitelist 127.0.0.1
DOSWhitelist 1.1.1.1
DOSWhitelist 1.2.3.4
&lt;/IfModule&gt;
</code></pre>

<h3>4. 重啟Apache服務</h3>

<pre><code>/etc/init.d/httpd restart
</code></pre>

<h3>5. 以 test.pl 測試 mod_evasive 是否有正常運作</h3>

<p>Reference: <a href="http://www.openfoundry.org/tw/tech-column/8180--modevasive-dos-]">http://www.openfoundry.org/tw/tech-column/8180&#8211;modevasive-dos-</a></p>
]]></content>
  </entry>
  
</feed>
